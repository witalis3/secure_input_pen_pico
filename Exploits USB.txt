
2. Exploity na poziomie elektronicznym (ataki sprzętowe) 
A. Voltage sabotaż na liniach danych USB (D+/D-) Atak: Wstrzykiwanie skoków napięcia w celu uszkodzenia danych lub wymuszenia nieprawidłowych stanów. Przykład: Wysyłanie 5 V do pinu MCU 3,3 V w celu jego uszkodzenia lub wywołania nieoczekiwanego zachowania. Łagodzenie: Rezystory szeregowe (np. 22–100 Ω) + diody TVS (do ochrony przed wyładowaniami elektrostatycznymi/przepięciami). 
	- przeciwdziałanie
		- transile na +5V i liniach DP i DM

B. Zasilanie wsteczne przez USB VBUS Atak: Jeśli MCU jest źle zaprojektowany, USB VBUS (5 V) może nieoczekiwanie zasilać inne obwody. Środki zaradcze: Użyj wyłącznika zasilania IC lub diody Schottky'ego, aby zapobiec prądowi wstecznemu. 
	- kontra
		- dioda Schottky w zasilaniu 

C. Odbicie sygnału/niedopasowanie impedancji Atak: Długie/nieekranowane USB mogą powodować problemy z integralnością sygnału, prowadząc do uszkodzenia danych. Środki zaradcze: Prawidłowe zakończenie (rezystory szeregowe) i krótkie przebiegi. 
	- kontra
		- stosowanie dobrej jakości (i nie za długie) przewodów USB lub wcale


D. Zakłócenia elektromagnetyczne (EMI) Atak: Wywoływanie szumów na liniach USB w celu spowodowania błędów bitowych. Łagodzenie: Koraliki ferrytowe, ekranowane, prowadzenie par różnicowych.
	- kontra
		- ekran na PCB połączone z masą; maksymalnie duże powierzchnie masy
---- CDN
3. Zabezpieczenia na poziomie elektronicznym 

A. Ochrona linii danych USB Rezystory szeregowe (22–100Ω) – Ograniczają prąd i redukują odbicia sygnału. Diody TVS (np. USBLC6-2SC6) – Chronią przed wyładowaniami elektrostatycznymi i skokami napięcia. Dławiki w trybie wspólnym – Zmniejsz zakłócenia EMI/RFI. 

B. Ochrona linii energetycznej Polyfuse (bezpiecznik resetowalny) – Chroni przed przetężeniem. Przetwornica Buck/Boost z UVLO (Under-Voltage Lockout) – Zapewnia stabilne napięcie. Dioda Schottky'ego (do ochrony przed odwrotną polaryzacją) – Zapobiega cofaniu się. 


C. Bezpieczny rozruch i ochrona oprogramowania układowego Wyłącz interfejsy debugowania (JTAG/SWD), gdy nie są potrzebne. Używaj mikrokontrolerów z ochroną przed bezpiecznym rozruchem i odczytem Flash (np. STM32 TrustZone, NXP HAB). Zaimplementuj weryfikację CRC/sumy kontrolnej w celu zapewnienia integralności oprogramowania układowego. 

D. Hartowanie protokołu USB Oczyszczanie wejść USB (sprawdzanie poprawności rozmiarów pakietów, punktów końcowych). Wyłącz nieużywane klasy USB (np. wyłącz HID, jeśli nie jest to potrzebne). Użyj szyfrowania typu end-to-end (jeśli przesyłane są poufne dane).








2. Electronic-Level Exploits (Hardware Attacks)
A. Voltage Tampering on USB Data Lines (D+/D-)
Attack: Injecting voltage spikes to corrupt data or force incorrect states.

Example: Sending 5V into a 3.3V MCU pin to damage it or trigger unexpected behavior.

Mitigation: Series resistors (e.g., 22–100Ω) + TVS diodes (for ESD/surge protection).

B. Backpowering via USB VBUS
Attack: If the MCU is poorly designed, USB VBUS (5V) could power other circuits unexpectedly.

Mitigation: Use a power switch IC or Schottky diode to prevent reverse current.

C. Signal Reflection/Impedance Mismatch
Attack: Long/unshielded USB cables can cause signal integrity issues, leading to corrupted data.

Mitigation: Proper termination (series resistors) and short cable runs.

D. Electromagnetic Interference (EMI)
Attack: Inducing noise on USB lines to cause bit errors.

Mitigation: Ferrite beads, shielded cables, differential pair routing.

3. Electronic-Level Protections
A. USB Data Line Protection
Series Resistors (22–100Ω) – Limit current and reduce signal reflections.

TVS Diodes (e.g., USBLC6-2SC6) – Protect against ESD and voltage spikes.

Common-Mode Chokes – Reduce EMI/RFI interference.

B. Power Line Protection
Polyfuse (Resettable Fuse) – Protects against overcurrent.

Buck/Boost Converter with UVLO (Under-Voltage Lockout) – Ensures stable voltage.

Schottky Diode (for Reverse Polarity Protection) – Prevents backpowering.

C. Secure Boot & Firmware Protection
Disable Debug Interfaces (JTAG/SWD) when not needed.

Use MCUs with Secure Boot & Flash Readout Protection (e.g., STM32 TrustZone, NXP HAB).

Implement CRC/Checksum Verification for firmware integrity.

D. USB Protocol Hardening
Sanitize USB Inputs (validate packet sizes, endpoints).

Disable Unused USB Classes (e.g., disable HID if not needed).

Use End-to-End Encryption (if sensitive data is transmitted).